# テキサスホールデム・ショーダウンマスター MVPの要件定義

## 1. 概要
テキサスホールデムのショーダウン判定トレーニングのMVP版。Streamlit上で動作するWebアプリケーションとして実装され、ゲームシステムの検証を主目的とする。プレイヤーは制限時間内に可能な限り多くの手札判定を正確に行うことが求められる。

## 2. 目的
- ゲームシステムの有効性検証
- ユーザーの興味関心の測定
- 学習効果の検証
- 本番リリースに向けた改善点の洗い出し

## 3. スコープ
### 含まれるもの
- 厳選された75問の基本的なショーダウン判定問題
- プレイヤーの解答に対する即時フィードバック
- 詳細なプレイログの記録と分析
- 学習効果の測定のための統計情報

### 含まれないもの
- グラフィカルなUI
- 難易度設定
- ランキング機能
- ユーザーアカウント管理

## 4. 機能要件
### 基本機能
- 事前定義された問題セットからの出題
- 正確な勝者判定（引き分けを含む）
- 固定スコアリング（正解10点、誤答-5点）
- 固定制限時間（60秒）
- プレイログ記録

### 検証機能
- プレイ時間の記録
- 問題ごとの解答時間計測
- 役ごとの正答率分析
- セッションごとの成績追跡
- エラーログ収集

### フィードバック機能
- 即時の正誤判定表示
- セッション終了後の詳細な解説
- 問題ごとの役の説明表示
- 統計情報の可視化

## 5. 非機能要件
### パフォーマンス
- 問題表示の即時性（1秒以内）
- コマンド応答の即時性（0.5秒以内）
- データベースクエリの応答時間（1秒以内）

### 安定性
- クラッシュしない動作
- データの永続化と整合性の保証
- エラー発生時の適切なメッセージ表示

### 可用性
- Streamlit上での安定動作
- オフライン環境での動作保証
- ブラウザ互換性の確保

## 6. 技術要件
### 開発言語・環境
- Python 3.x
- Streamlit
- Supabase

### 開発ツール
- Git
- Visual Studio Code
- Streamlit Cloud

### データベース
- Supabase PostgreSQL
- 5つの主要テーブル構成
  - problems: 問題データ
  - hand_rankings: 役の種類と強さ
  - winning_hands: 勝者の役情報
  - game_sessions: ゲームセッション
  - game_answers: 回答記録

## 7. UI/UX要件
### 表示要件
- 文字ベースのカード表示
- スコアと残り時間の常時表示
- 明確な結果表示
- エラーメッセージの可読性

### 操作性
- シンプルな選択方式
- 直感的なボタン配置
- クリアな結果フィードバック
- レスポンシブな画面設計

## 8. コンテンツ要件
### 問題データ
- 基本的な手役パターン（65問）
- 典型的なチョップケース（10問）
- 役ごとの詳細な解説
- 勝敗の根拠となる役の明示

### テキスト
- 簡潔な操作説明
- 役の説明と強さの定義
- フィードバックメッセージ
- エラーメッセージ

## 9. テストと品質保証
### テスト範囲
- 問題データの整合性
- 判定ロジックの正確性
- データベース操作の信頼性
- UI/UXの使いやすさ

### 品質基準
- 判定の100%正確性
- データ永続化の確実性
- UI応答の即時性
- エラーハンドリングの完全性

## 10. 展開と保守
### 展開計画
- Streamlit Cloudへのデプロイ
- Supabaseデータベースの設定

### サポート計画
- バグ修正と機能改善
- データ分析とフィードバック収集
- パフォーマンス監視
- ユーザー行動分析

## 11. データ分析要件
### 収集データ
- プレイヤーの回答パターン
- 問題ごとの正答率
- 解答時間の分布
- セッションごとの成績推移

### 分析機能
- 役ごとの難易度分析
- プレイヤーの学習曲線測定
- チョップ判定の正確性評価
- タイムパフォーマンス分析
